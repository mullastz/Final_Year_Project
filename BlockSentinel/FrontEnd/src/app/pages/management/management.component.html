<div class="text-white px-6">
    <h2 class="text-xl font-semibold mb-4">Registered System</h2>
  
    <div class="grid gap-6" [ngClass]="isMenuBarOpen ? 'grid-cols-3' : 'grid-cols-4'">
      <div
        *ngFor="let system of systems | slice:0:(isMenuBarOpen ? 3 : 4)"
        class="p-4 rounded-lg shadow-md cursor-pointer transition duration-300 transform hover:scale-105"
        [ngClass]="{
          'bg-[#011F2F]': !hoveredCard || hoveredCard !== system.id,
          'bg-gradient-to-t from-[#011F2F] to-[#036295]': hoveredCard === system.id
        }"
        (mouseenter)="hoveredCard = system.id"
        (mouseleave)="hoveredCard = null"
      >
        <!-- Header -->
        <div class="flex justify-between items-start">
          <img [src]="system.logoUrl" alt="logo" class="w-10 h-10 rounded-full" />
          
          <!-- Dot Menu -->
          <div class="relative">
            <button (click)="toggleMenu(system.id)" class="focus:outline-none">
              <!-- Vertical 3 Dots -->
              <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 3a1.5 1.5 0 110-3 1.5 1.5 0 010 3zM10 8.5a1.5 1.5 0 110-3 1.5 1.5 0 010 3zM10 14a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" />
              </svg>
            </button>
  
            <!-- Dropdown -->
            <div
              *ngIf="openMenu === system.id"
              class="absolute right-0 mt-2 w-36 z-10 rounded-md shadow-lg bg-[#011F2F] text-sm"
            >
              <a
                href="#"
                class="flex items-center px-3 py-2 hover:bg-[#0E8CCF] rounded-md transition"
              >
                <i class="fas fa-eye mr-2"></i> View
              </a>
              <a
                href="#"
                class="flex items-center px-3 py-2 hover:bg-[#0E8CCF] rounded-md transition"
              >
                <i class="fas fa-sync-alt mr-2"></i> Sync
              </a>
              <a
                href="#"
                class="flex items-center px-3 py-2 hover:bg-[#0E8CCF] rounded-md transition"
              >
                <i class="fas fa-shield-alt mr-2"></i> Scan
              </a>
              <a
                href="#"
                class="flex items-center px-3 py-2 hover:bg-[#0E8CCF] rounded-md text-red-500 transition"
              >
                <i class="fas fa-trash mr-2"></i> Remove
              </a>
            </div>
          </div>
        </div>
  
        <!-- System Info -->
        <div class="mt-4 space-y-2 text-sm">
          <div class="flex items-center space-x-2">
            <span class="font-semibold">Status:</span>
            <span
              class="w-2.5 h-2.5 rounded-full inline-block"
              [ngClass]="system.status === 'active' ? 'bg-[#29FB05]' : 'bg-[#FB0505]'"
            ></span>
            <span class="capitalize">{{ system.status }}</span>
          </div>
          <div class="text-base">
            <span class="font-semibold">ID:</span>
            <span class="text-[#0E8CCF] font-bold ml-1">#{{ system.id }}</span>
          </div>
          <div>
            <span class="font-semibold">Alert:</span> {{ system.alert }}
          </div>
        </div>
      </div>
    </div>
