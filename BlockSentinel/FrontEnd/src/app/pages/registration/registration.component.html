<!-- registration.component.html -->

<div class="bg-[#011F2F] p-6 rounded-lg text-white w-full shadow-md overflow-y-auto h-screen">

    <!-- Heading -->
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-2xl font-semibold">System Registration</h2>
    </div>
  
    <!-- Row 1: System Name + Profile Photo -->
    <div class="flex flex-wrap justify-between items-start mb-6">
      <!-- System Name -->
      <div class="w-full md:w-1/2 pr-0 md:pr-4 mb-4 md:mb-0">
        <label class="block mb-2">System Name</label>
        <div class="relative">
          <i class="fas fa-server absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
          <input type="text" [(ngModel)]="systemName"
                 class="w-full pl-10 pr-4 py-2 rounded-md bg-[#00121C] text-white focus:outline-none focus:ring-2 focus:ring-[#0E8CCF]">
        </div>
      </div>
  
      <!-- Profile Photo -->
      <div class="w-full md:w-1/2 flex flex-col items-center">
        <div class="w-32 h-32 rounded-full overflow-hidden border-2 border-[#0E8CCF] bg-gray-800">
          <img *ngIf="systemImage" [src]="systemImage" class="object-cover w-full h-full" />
          <span *ngIf="!systemImage" class="flex items-center justify-center h-full text-gray-400">No Image</span>
        </div>
        <label class="mt-2 text-sm cursor-pointer text-[#0E8CCF] hover:underline">
          Add System Profile Photo
          <input type="file" hidden (change)="onImageUpload($event)">
        </label>
      </div>
    </div>
  
    <!-- Row 2: System URL + Data Type -->
    <div class="flex flex-wrap justify-between mb-6">
      <!-- System URL -->
      <div class="w-full md:w-1/2 pr-0 md:pr-4 mb-4 md:mb-0">
        <label class="block mb-2">System URL</label>
        <div class="relative">
          <i class="fas fa-link absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
          <input type="text"  [(ngModel)]="systemUrl"
                 class="w-full pl-10 pr-4 py-2 rounded-md bg-[#00121C] text-white focus:outline-none focus:ring-2 focus:ring-[#0E8CCF]">
        </div>
      </div>
  
      <!-- Data Type -->
      <div class="w-full md:w-1/2 pl-0 md:pl-4">
        <label class="block mb-2">Data Type to be Protected</label>
        <select [(ngModel)]="selectedDataType" class="w-full px-4 py-2 rounded-md bg-[#00121C] text-white focus:outline-none focus:ring-2 focus:ring-[#0E8CCF]">
          <option value="">-- Select Data Type --</option>
          <option *ngFor="let type of dataTypes" [value]="type">{{ type }}</option>
        </select>
      </div>
    </div>
  
    <!-- Row 3: System Type + System ID -->
    <div class="flex flex-wrap justify-between mb-6">
      <!-- System Type -->
      <div class="w-full md:w-1/2 pr-0 md:pr-4 mb-4 md:mb-0">
        <label class="block mb-2">System Type</label>
        <select [(ngModel)]="selectedSystemType" class="w-full px-4 py-2 rounded-md bg-[#00121C] text-white focus:outline-none focus:ring-2 focus:ring-[#0E8CCF]">
          <option value="">-- Select System Type --</option>
          <option *ngFor="let type of systemTypes" [value]="type">{{ type }}</option>
        </select>
      </div>
  
      <!-- System ID -->
      <div class="w-full md:w-1/2 pl-0 md:pl-4">
        <label class="block mb-2">System ID</label>
        <input type="text" [value]="systemId" readonly
               class="w-full px-4 py-2 rounded-md bg-[#00121C] text-gray-400 focus:outline-none cursor-not-allowed">
      </div>
    </div>
  
    <!-- Row 4: Admin Count -->
    <div class="mb-6">
      <label class="block mb-2">How many admins does the system have?</label>
      <input type="number" min="1" [(ngModel)]="adminCount" (input)="generateAdminFields()"
             class="w-1/3 px-4 py-2 rounded-md bg-[#00121C] text-white focus:outline-none focus:ring-2 focus:ring-[#0E8CCF]">
    </div>
  
    <!-- Row 5: Admin Pairs -->
    <div class="space-y-4 mb-6">
      <div *ngFor="let admin of adminFields; let i = index" class="flex flex-wrap justify-between">
        <div class="w-full md:w-1/2 pr-0 md:pr-4 mb-4 md:mb-0">
          <label class="block mb-2">Admin{{ adminFields.length > 1 ? ' ' + (i + 1) : '' }} Name</label>
          <input type="text" [(ngModel)]="admin.name"
                 class="w-full px-4 py-2 rounded-md bg-[#00121C] text-white focus:outline-none focus:ring-2 focus:ring-[#0E8CCF]">
        </div>
        <div class="w-full md:w-1/2 pl-0 md:pl-4">
          <label class="block mb-2">Admin{{ adminFields.length > 1 ? ' ' + (i + 1) : '' }} Email</label>
          <input type="email" [(ngModel)]="admin.email"
                 class="w-full px-4 py-2 rounded-md bg-[#00121C] text-white focus:outline-none focus:ring-2 focus:ring-[#0E8CCF]">
        </div>
      </div>
    </div>
  
    <!-- Submit Button -->
    <div class="text-right">
      <button (click)="submitRegistration()"
              class="bg-[#0E8CCF] hover:bg-[#0A6A9F] transition px-6 py-2 rounded-md text-white font-semibold shadow-md">
        <i class="fas fa-paper-plane mr-2"></i> Register
      </button>
    </div>
  
  </div>
  